{% macro troop_card(troop, max_level) %}
    <div class="troop-card">
        <img src="{{ url_for('static', filename='images/troops/' + troop.name|lower + '.png') }}" alt="{{ troop.name }}" class="troop-image">
        <div class="troop-info">
            <strong>{{ troop.name }}</strong>
            <p>{{ troop.level }}/{{ max_level }}</p>
        </div>
    </div>
{% endmacro %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Info</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <h3>Home Village Troops</h3>
        <div class="troop-grid">
            {% for troop in player.troops %}
                {% if troop.village == 'home' and troop.name not in ['Super Barbarian', 'Super Archer', 'Super Giant', 'Super Wall Breaker', 'Super Wizard', 'Super Minion', 'Super Valkyrie', 'Super Witch', 'Super Bowler', 'Ice Hound', 'Rocket Balloon', 'Sneaky Goblin', 'Inferno Dragon'] and 'Siege' not in troop.name %}
                    {{ troop_card(troop, max_levels.get(troop.name, 'N/A')) }}
                {% endif %}
            {% endfor %}
        </div>
    
        <h3>Siege Machines</h3>
        <div class="troop-grid">
            {% for troop in player.troops %}
                {% if troop.village == 'home' and troop.name in siege_machines %}
                    {{ troop_card(troop, max_levels.get(troop.name, 'N/A')) }}
                {% endif %}
            {% endfor %}
        </div>
    
        <h3>Builder Base Troops</h3>
        <div class="troop-grid">
            {% for troop in player.troops %}
                {% if troop.village == 'builderBase' %}
                    {{ troop_card(troop, max_levels.get(troop.name, 'N/A')) }}
                {% endif %}
            {% endfor %}
        </div>
    </div>    
</body>
</html>